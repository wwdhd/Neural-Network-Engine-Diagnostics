function [Y,Xf,Af] = APPROX1_C(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 27-Jan-2025 09:11:30.
%
% [Y] = APPROX1_C(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx13 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx2 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.479849370439456;-0.772251187979617;-8.93898782910051;-3.21160476338192;-3.61249118305313;-1.58869438841033;-3.64916026795756;-0.648506742272126;-3.59405443833867;-0.554575930321893;-3.42536360838103;-0.0998883717876931;0.106361798818266];
x1_step1.gain = [1.62756583159472;1.21718850952377;0.229223697692835;0.404616886946328;0.425596568378672;0.551322734342229;0.442841503459205;0.695036115867686;0.394959477114651;0.674112338709327;0.29236313649867;10.0118765421268;0.935303540597583];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.999924736960089211;1.162606508297900243;-2.2985133487741431502;1.791278234515324419;-1.3534414505475964585;1.3335242179211266311;-1.1339195674203943476;0.61117141832040211558;0.99581010888248999713;0.97026992577601101075;0.87548263227922051843;-0.68756495825086949569;-0.66949547451950375265;-0.80419282496791189008;0.36427382051555962095;0.1888473859932917609;-0.71874818970353682168;0.22276582130167077445;0.59874280782530031608;-0.016913521314755531472;0.081550312109069919564;0.23217555262739769661;-0.20397792884816717818;0.76371146310444104621;-0.59667368244907803554;0.66588905941849219072;-0.64327863989975697656;-0.82376306760685424901;-0.72098770278455437399;-1.2074037205499617009;-1.2396287846262017407;1.7222527586528790788;1.1208335349276445925;-0.84396988985100662717;1.297789210926762582;-1.1580500121811498904;-2.0158566331532035143;-1.9886605667040306855;-2.2112921700688703552;1.9493544329758480949];
IW1_1 = [0.32497681121688221095 -0.19323553298669585154 1.1248312402004725374 0.21279554407064690813 -0.31163950542023349799 -0.39800997809816296424 -0.093006454759378118236 -0.40174311508234356038 -0.73048566224351219045 -0.35895273870393640259 0.3465741765633811311 -1.2613246966819930961 0.49340305290532421312;0.1520984363224517355 0.21300213637791776122 0.0040054572117603944037 0.55719997190258285791 0.69519791479396586542 0.24288099107218330541 -0.72545041760257267249 0.070346651977809399048 0.59607771029963252385 -0.58062088224962959959 -0.94232206881903035622 -0.79759792534796469798 -0.99860601696926432069;0.24897398996873348898 0.18136599571190387126 0.31456779136641255246 -1.0324535308985194337 -0.13573309163691271717 0.21863920424367963569 0.13756475152500396986 1.0741423274553698608 0.36818701993335795075 -0.69471610898446622961 -1.446661769583871493 0.19094619148050959168 0.21773480002961687063;0.16900190231227943394 0.24576460025189234004 0.51640304164110850671 0.58241132155991981456 0.3495013565129820865 -0.028156998699711846545 0.93580107571333714933 -0.53136427181993717284 0.87002710717317677247 -0.57591315154398270426 0.075033157551364082494 -0.14208242056907807727 -0.23481489975889369148;1.0231072616700902511 -0.36459855159772097677 0.47651167479904416036 0.69294494899409408983 0.73678184399725032971 0.68261650380809968386 -0.026558167502687999445 0.042729492547980939265 0.30505077817048570354 0.13558598870581639595 0.24123815821659008729 -0.40018929840159511713 -0.066399622019887832858;-0.1356376945396494671 0.009869979832657645169 0.0039233784086541954872 -0.68174848086829753502 0.50464325886268268651 -0.98648800046193951818 -0.71731473106194987288 0.69787428131110573748 -0.20240971924076783806 0.00015348359419335017018 0.79926785293840163504 -0.67826865691517634893 0.52718152625428726932;-0.37390680397535813739 -0.55619349505419557467 0.060753639287503977129 -0.025031853554222986691 0.22813677763879616767 -0.6681875595092469089 -1.1084122561343532354 0.5844831139730604086 -0.46297363544185921036 0.55014808540460591324 -0.78919116925078336422 0.055626939207411518762 -1.3415120786791441265;-0.36756326226699809201 -0.78415257590627840401 0.73333819652699572256 -0.43467221854969978478 -0.70889912852473679905 -1.047732003008094992 0.053436068649725602941 1.4269833242724649924 -0.95522281053420421415 0.37954786292360104261 0.091711124375847469237 -0.44456832355515829569 -0.23505091337388903105;0.19890177093501634764 0.49083506288850065058 -0.82385610592225311244 -0.39490011655388645995 0.49410981483761351463 -0.64668314369221069349 -0.12925577662616255514 0.99208807375768892634 -0.5886656226003766923 -0.43768274802724593808 0.1344000026390017033 -0.073375497535034445162 0.04272714773973056851;-0.48547308043591036464 -0.19098596504229606308 -0.59630596389399648238 0.67192574457956499856 -0.47706349522409619013 0.43425343364479090935 -0.21463627165188475798 -0.024189558915257754895 -0.76432766953897857132 0.11841130140183230013 -0.0046367121043205915265 -0.31378950623002299647 1.0475281817614929825;-0.98232632020513366289 0.65542921148268673548 0.15278413738568913383 0.2014124675076923443 -0.1123821188906501678 -0.59078029935082010393 0.3471052980519240827 0.24512330404484938828 -0.03329967065994562242 0.96344637307379588087 0.61327420290685319415 -0.32181718111823764961 0.059979353865770822229;0.40800355756402256757 0.51944871023801697518 -0.34301072193089326978 1.0352083442286657 0.41139776299059310771 -0.3126867004533505634 0.18304835820481721309 0.38692753103445981511 -0.21362650207629435561 0.34379621397044385356 0.17504249803282967424 -0.16560048229868590264 0.34576019383466305435;0.40155332396790072158 0.8032668455365155058 0.23721537699998890281 1.2508529329715827316 0.16641358274681239404 -1.1371444992304915456 -0.53779680455636424963 1.1535052638875411546 0.22213164041277175254 0.2870486149821475097 0.85621079370440389411 -0.16341055234280424391 0.4308700731485345381;0.84079159246750545531 -0.8253255985030670816 1.0738297598907873276 0.21400055175528073792 -0.050381055712958748571 -0.24660638075053625817 -0.1863957410215639765 0.12973946413424575219 -0.69760315030526853786 -0.56783034956588374076 0.69471702703744497853 0.014006460660129518847 -0.31323392005894584722;-0.48137550093846581678 -0.5831175662893086642 -0.74231213947473306813 -0.095336533545329310568 0.27373021293470706228 0.38275293894958062335 0.18364488593201880318 -0.59352045651078944033 -0.2331733638512140383 -0.36489823293220763345 -1.1124850678640918478 -0.041435494233035261025 -0.8511844613894271605;0.17366749266737360746 0.13387522688253761238 -0.92990904397744111876 0.98804432878272541174 0.029277825943478101578 -0.24739312810200797532 -0.14036692945345075056 -0.4951918706832476591 -0.51634758458723217789 -0.14645963109368542732 0.94547762393677625692 -0.18703448787607637738 -0.73635134044781758167;0.60933042470064091578 -0.34414550224154960567 0.38239325220271658257 0.65550563450615895178 -0.30254676413723136097 0.1356920743792304207 0.20355058377004994763 -0.93771168582320330032 -0.61291506025567221716 -0.38102277963147584972 -0.77083485622038039331 0.78441608266618456646 0.49580838343637662069;0.15229426312774246854 0.065641511127789820002 -0.24046975796070690912 -0.89967482217779970455 0.30084440390426631096 0.067504083020496069567 -0.29858932023383516485 0.41466304741713200244 0.016144038945479832758 0.64979605984562516241 0.59568514612330603075 1.3090038868854509957 -0.64619048236412757191;-0.26237212517211366825 -0.27827878864222876931 0.0017032352707086265142 0.8202141235653475082 -0.22486223715446362892 0.18276251220486694482 -0.85873186620135155689 0.7986995159832740443 0.79191279342811160546 0.042676045963558416341 -0.26157149858617895211 0.69767514471890867966 0.79067446138825825397;-0.54523089194961560366 -0.37175960862988643996 0.54250870728871047888 -0.65619653546557721313 0.72382926661785540468 0.31520751770695831784 -1.2062247834833825788 0.74103986876431759967 -0.27478835380029220659 -0.50916226359411842495 0.44520450380952336644 -0.28225166031957760193 0.27108594885238812555;-0.11979141415391472703 0.059091011444141097742 0.56849316685655770787 0.17877209912236410871 0.040647644138429084304 0.11786461070219700353 0.06397229655870839693 0.051840359980924094474 -0.092962892313874653794 -0.011562568189362323196 -0.033201104660396260626 -0.016671260683298896876 -0.12348739317763483825;0.93511905428334407553 0.019345999060638427447 -0.7378014648092316996 0.57383373801511583512 0.3949621617127447859 -0.8167588253471228521 0.75614064307639206053 -0.020973343197847719305 -0.54362684981243114546 -0.65367978943991567053 0.38246261299415390544 -0.52660393373315017573 -0.83996349067150999357;-0.28490764193032569462 -0.63860701675400777244 0.98533126959050421068 -0.23736361818790649436 -0.093283366130865422172 0.32874738388173269099 0.34074569463052351015 0.60672761027018873303 -0.39478185926157527419 0.92270596421478545679 -0.63067948559205755377 0.60807124575415039125 -0.32610690521405133468;0.73959277579165572103 0.38467376637799732819 -0.19519122848090564304 -1.2601238265732439547 0.13699220944022683089 0.76152151907691001398 0.47349416228286012043 -0.18914645253953851767 -0.22322318514350358853 -0.38704226737974872785 -0.73285269016746668047 0.17634737073181921962 -0.73074352371407280682;-0.89836274905171564775 -0.33659603296987539167 -0.13000062815551627349 0.99484947820062941126 -1.2259614800861116102 0.02543491462632417599 -0.17673088492704874808 0.39266668417549055459 -0.68515933058761346874 -0.49183355802740946761 -0.87160724084002472178 0.20270401774045579413 0.94309581877594583776;0.28808797243643136099 -0.037908416250042598072 -0.024998855014957407222 -0.423006340309373563 0.52894704637126677138 -0.66981230867601793122 0.16370532343251512075 0.3194480522046146409 -0.58213752339088620236 -0.098093682967641648851 0.61991223048842447607 -0.055779213429817411929 -1.8183529270960852031;0.040615115967101017569 0.69720963394585677708 -0.045693386702684198053 -0.46183914405804521452 -0.73298193495045105283 -0.32268053414612457575 -0.70893812022442592724 0.66030188026178804339 -0.042722149104330864322 -0.61953092250413099862 0.94364754306075870893 0.19325333037416317361 0.091744767759279824415;-0.3407204856135422899 0.31590653584854527791 -0.40630081687146246683 0.12877641526739169731 0.11358715845651154441 0.33062347363649602361 0.19225706240230425181 0.043106162443721944555 -0.4725529763971010877 0.22720172644599676004 -0.030963338357826410835 -0.40623344277394107804 0.24030310645454189267;-0.33048123975055232471 -1.0118346253062187046 -0.63903111808139079209 -0.47566984225591357749 0.73641792166180708445 0.36056489980035555387 0.76204040813305096158 0.71614120510662471197 0.83984282815681565726 -0.3593859713214135887 -0.41590567488453522582 -0.43105492376772208685 -0.036584760620559382549;-0.7274644803900334189 0.27016824544744327818 -0.46259641174760574023 -0.14760314083272094154 0.17730674086158290659 -0.1836329541005846111 -0.7994713990014332694 -0.028547566728588772561 -0.025716546914262485013 -0.87803626129024869851 0.46818706866151404977 -0.61732269253887106508 -1.6968921630090592068;-0.273267596194215312 0.048882909595581378048 -0.9180095540706542101 0.61080618359537253159 0.19685072534191244698 -0.31458702633659646475 1.2838122577198431973 0.1156525609592231052 0.43830646281984175783 -0.30836861047257535517 0.77738198326134755334 -0.43183838730958523655 -0.29504935954615640892;0.4334602688354485811 -0.36549595133412254855 0.59416308046510879493 -0.096425735282364394285 -0.62598018861826687509 0.64599207117014123547 0.54858502770353767541 -0.48104195547228928431 0.91631888715918186072 0.94029392887269780399 -0.4034339218146855699 -1.1386735098614135797 0.78547801781925563613;0.94809100237202703632 -0.14912020045892859788 0.6693348957709065461 -0.70362465622402670107 0.52974183203078617499 -0.10396256319275176683 -0.56044176324379768594 -0.10471952287528371595 -0.013145349350305691322 -0.6633712543046619281 -0.21667287507823676518 0.62610273333421939679 -0.6236850885328074634;-0.082733196537762856981 0.26897357915481523438 -0.53741476456227699199 0.27700060395620662579 0.62673327668102007948 -0.48963670464964670348 -0.30168882961017307043 0.72163077666457942083 0.15324025125951057369 -0.52465656476749156223 -0.37594691882058961507 0.23379594304808776206 -0.40298024971096635394;-0.022668680356503184692 -0.77259898538921467637 0.49419384903053403812 0.074342603502346504829 -0.42765073910841555627 -0.47125758339971313138 -0.90786867940759208295 0.41828772427281663004 0.31732469734334944889 0.1274603787794261478 0.17925054062765777285 0.84808423065567051236 0.50479081005401815752;-0.51861180576198540049 0.45682463009147711297 0.28914126901773373746 -0.52891864917016029324 0.24039899704237219225 0.73108684762846942728 0.69446790053070672766 0.9235999470858112792 0.23073037981186811374 -0.063571116066733920902 0.81394501047644296499 0.37488960374403951237 -0.62418624700242109071;-0.41323012276068588067 -0.35738840413686945308 0.61026338651570932736 0.96727052409839431313 0.36812377773898574684 -0.33848850284046816395 -0.21462486534961311424 0.25716902680438419315 1.2019378840631371741 -0.32629032699533577766 0.8353500897691266136 -0.68730960031557097878 -0.28757587480691737536;0.3301487530202341647 -1.2424532963130048291 -0.9511411584861833024 -0.003571799293145140608 0.69351947863383034409 -0.16373801525832759607 -0.082601779751754825232 0.88064610458585179664 0.69836669002518236837 -0.46859195463440916907 -0.33277390678370211141 0.019576357870129894312 0.089733033488800878485;-0.47653470049555118893 -0.71644143184007891278 -0.27494592252518085251 0.43689956867265922202 -0.41882987235167162821 -0.24274824076487178104 -0.2465838512339653954 -0.72286330228257733577 -0.19965160440806048459 -0.24066489705479648942 -0.31347897555256215574 -0.35927713689089790794 1.5188839292229630029;0.4329465711798852201 -0.77300542978090591717 -0.067720428874460170121 -0.16630732433456496544 -0.60642512645408330751 0.66998827730535381875 -0.89095096156585995573 -0.18295748350612298094 -0.049560710965887669333 -0.82336816202003815235 0.35510968937212722407 -0.29926412811782904244 0.46812539288101046031];

% Layer 2
b2 = [-0.011623696534203226127;0.0077893006471786915834];
LW2_1 = [0.095262452388585050489 -0.032499334824612119421 -0.11041792579285547582 0.12572570595013171646 0.04964223257891176716 0.025327315791873639128 0.011369408743983335994 -0.010294382018019736236 -0.14051701698577143129 -0.12667628111695869442 0.10413654823023499318 0.043277831299416175126 0.028396336282247046368 0.054979956181234482249 0.074467071160561823517 -0.16550939175292775363 0.026208403041535686256 0.057217018663283297775 0.066583573721411895563 0.061670951088686712382 0.82490228429883438732 0.076002500613318146883 -0.049751264581067190795 0.012505459305015221433 -0.074497543045524403094 0.010329343275426396478 -0.044118685459021769746 -0.25859677936665742548 -0.027268185749491052894 0.013695550747795432259 0.043497896219415771446 0.037033627678888736412 -0.082659454558007230962 -0.041989511556033379258 -0.0794284495625453002 0.009526505285274678228 0.033093545107843624908 -0.0055080272004210135278 -0.02889976610311971103 -0.095001662266506234356;-0.20251469038869701622 0.14089224340420086756 0.81565993419407367693 -0.04156223947216407949 -0.085201762588592425129 -0.29092313612659442823 0.22796587730820369599 0.096175796202564944881 0.2505234122417764886 -0.093477476474778359306 -0.14391946397866497986 -0.40271817439299922858 0.27352311124877459747 0.065214264613309341767 0.20894192597678554191 0.47393921754502194021 -0.22684149883348661558 -0.0029085463129076456756 -0.12025835595741517225 -0.30624781202486839327 0.29572405344177465913 -0.15394260374084139942 0.072467324634096275116 0.22431879608428098583 0.056527388027472189047 0.22323528216557145254 -0.0053941361001760262245 -0.36596539238027603336 0.16237280597802083992 0.16481685111680513534 -0.4398703262109854295 -0.17023687594558251091 -0.19998246072824030217 -0.31049725438501007968 -0.11776077703362657079 0.02931307851943670828 0.26160217273793190396 -0.27449896087497754893 -0.16090552222367987545 -0.050464292899463844555];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.363636363636364;0.363636363636364];
y1_step1.xoffset = [-6;-6];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);

    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);

    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;

    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
