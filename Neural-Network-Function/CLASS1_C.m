function [Y,Xf,Af] = CLASS1_C(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 27-Jan-2025 06:03:35.
%
% [Y] = CLASS1_C(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx13 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx1 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.84905506094289;-0.89661207983156;-11.8900564136425;-4.27206819854083;-8.10390898832512;-1.80211090895129;-3.93907360901864;-3.41204081619662;-3.59405443833867;-1.87637380752854;-3.42536360838103;-0.0999911658899677;-5.50001194767216];
x1_step1.gain = [1.14849683430247;1.11429971627754;0.0978738766596544;0.232607625162706;0.137850789338029;0.359427209380821;0.202423161580597;0.134805288469019;0.16842991364427;0.132026007950701;0.130549013146212;10.0007123253375;0.15426243436626];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.70751269195128829725;1.5303277620470885356;2.2620944608987221258;-2.2140745161509798322;1.741651787999210832;-2.5429504246811935886;-2.0105543056246832911;3.4650111687536866434;6.4031232672950437745;-1.1275039699781239655;-0.11861657035606497368;-0.88254615728758123439;-0.36905987670061296546;14.430704643893836447;-1.449850503135730273;2.1884485832865840926;2.4993873561005259809;7.7201955749238218019;-0.095826009088519015222;1.1453657733511835026;-0.74048753285864399309;1.7620548755887373016;-0.73465278814455525769;-0.31352847280374152028;-0.96137526846869236774;5.2336930751782633209;5.4313862816195985772;0.56631904744990513301;1.7239923859277959117;-2.8359063380866307291;-0.50139359631108881832;0.98778834143259763856;1.8950450772628293361;-6.5960329918303512997;-1.208107731113812422;-1.4494105572842481688;-1.718403687270854574;5.1566250891335556616;22.489727805346308998;-2.0033422159554588049];
IW1_1 = [0.013746054538552730795 0.16870287780275586287 -1.0989077181037980591 -0.52234596984202597003 -0.70210759398832323086 -0.72869137149630847095 -0.62238188499595969994 1.3177198774808085435 -0.51043621416162532345 1.160126088408346412 0.59765490064294690686 0.038315057431002726152 -0.3542414368831205973;-0.25181261760805484506 0.80894138080813848823 0.23123163176804500951 0.30467609724736416377 0.39192849702460264005 -1.2751444299757270784 0.11407904655490211376 -0.46090314086789141435 0.70141932085844238554 0.21689846058093273373 1.9012794954530800595 0.055564738175703565215 -0.53348151241275809653;-0.9392202594315773867 -2.2450066288626655542 -1.6677774266322211716 1.2991061814889077741 0.74712789136886192942 2.1973712026300016298 1.1901872413848064713 -0.96655853390476142994 0.28520564121856711859 -0.64629101287699275424 0.75919878012215979979 -1.8411215388920241232 1.214934004632442166;-0.17793049815285169601 -0.20392370357042410856 -0.67837301208559075416 0.32127090870202384965 2.0937118048867424669 -0.89830777191876987064 0.49943214037825078844 -1.6923292979446418194 0.87518160897100183426 -1.054173103786044674 -0.022456556491628254513 -0.19867571429543465222 -2.2715785560152679246;0.12093346316097296211 0.35307257623504345601 0.37720159943453851481 0.41439347250513697274 -1.112329965206585225 -0.077296188444316751842 -0.61849362863585599648 0.66899356864817871582 -0.67996732013349414636 1.2728501358630066598 0.12530123743927817914 0.12646840534756628727 1.2919757240574840651;-0.68084525116770433506 1.8095359426324912899 1.5825511985296543127 0.2268957856241530513 0.67626662911085066998 0.55069065858574306471 0.051453018739071591792 -0.96537676272940453615 1.6113936957340262435 -1.4044886876057349756 -0.81067800423259062104 0.15472330006518048018 1.4684678066888110504;1.0447205176441045626 2.1405301146785249422 1.3357409580021424311 -1.3494411940992561139 -0.99741872547243060065 -2.0185727280720557886 -1.2931086820316324282 1.9647054236194392285 0.61776694113713359613 0.11350388505010278184 -1.2295124007566666791 1.8575143882800115858 -1.3166144232783725254;0.063586158451309202078 0.078628555140640876697 5.1537455660503352917 -1.0148435345861337442 -3.448537734470554561 0.64514572759945465474 -2.0918191614749370721 3.2962311856650359232 -0.14583197166735989425 3.043774548554436965 -0.016941252968049762273 0.24228426551841444891 6.8787128073114978122;-0.2006013969822492693 -0.0078795193792967777729 0.8901464090265970297 -0.078084284281318860899 -2.224287519665678392 0.69129095681987451361 -1.3873309837174157 2.3519058751863584078 -1.6945349904266580054 4.8936488495234540252 0.91989164038459114714 0.067942094942612552 8.528906969757553469;0.90671938800577389639 0.53175729820586326024 2.0654152015452305058 -2.531416673599595768 -0.66079148520534924938 2.6458350448497363061 1.7042447873412780446 1.1368268157888696823 -0.48704928863690843954 -2.8957692420810623446 -0.40791124076091345163 0.46985112493795300193 0.36778700212747617027;-0.47968156640278297731 -0.6426123721304957126 -1.2896979499404390701 0.85638638980236136966 1.130798737290725775 0.90046532271487333965 -1.4418379711210080885 -0.9121807226675900937 1.5806274265305764182 1.4548520700261666772 0.51509880007395369983 -0.67594111570814552348 1.128094086682271735;-0.48611919455343843843 0.035708576891793609998 0.14796341376344807061 2.5630664327268903868 -4.4177236876272667487 -2.6664388444967856984 0.87437384451745747693 0.092072687971570449372 1.5033549765429619072 -2.0405248581219797011 1.4764940996777951021 0.94302415093235691934 -2.2178948023403108891;0.050364953762070598098 -0.072565569468045501567 0.14142092199653766293 0.77354227000724751218 1.7235211978348097261 -0.55693341516331762442 -0.24582572638785343822 -1.7883657587341192929 1.0717504354224034469 -0.42953626282015056059 -0.35940060829183545499 0.025108162774850922849 1.9954235717828623375;0.35730266439086355579 -0.0055834349328032321924 -2.7236592389358365018 1.2409047368048786719 -5.888217559243924093 1.0416648697044152971 -3.0557489364734329307 7.599639358607567452 -2.6959471022201966228 11.660882349749838838 1.4402242197361905252 -0.23740637556236851569 19.376754586893500942;-0.86821311436778481063 -0.0815403566572416999 5.1100756064950045854 0.42105555169917063818 -2.6218073973693432066 -2.7025342263218798955 2.4780542925179291913 1.8702970750486691554 0.057651298484181233428 -0.43653678681755553326 -2.5439654075206843409 0.099194863075394892893 -0.3396494755765991358;0.89197671926714228174 1.7496058084662666765 1.3065564412816712547 -0.72203642268580059405 -1.3120234138920232603 0.54852467888421085895 0.18805063747197581225 -0.40891396240230049042 0.6238597907415837085 0.87178428863110934977 0.2978645769095271123 -1.6492537288545596752 2.2170204146495451347;-0.83186928918413582945 -2.3201429449247812364 -1.9321769729989923814 1.1687597766687005674 0.4880828883866090151 2.36400164078138042 1.0876451255316392785 -0.027595534220129273872 1.1291031174514214452 -1.1488904895465148481 0.3519836283183576664 -1.7991804975283398615 1.1464785714420138163;-0.1335512929203356014 -0.15028584138491840605 -0.24754584220123715399 0.16990922607974293101 -3.1546361066309644983 1.0504286111388723146 -0.11077620989794734196 2.6856743577560755476 -0.31982890261091584394 5.815320685162659764 0.91619180120106347154 -0.024158295376420030331 11.349851751854385995;-0.33224396938798445023 -0.68275468676264405854 -0.96908291182838224298 0.54593349038977934118 0.92240728878709443705 1.6363515858960144822 0.36733873448026643782 -0.52687661287594922399 -1.2270813543374121668 -1.3179928987098072923 1.2251180413577191786 0.35859929325502892805 -0.17943724081659900849;1.2036039861384648653 0.14821807227073144353 -4.8600852410881758559 -0.92971511446529431222 2.4928618198891734359 3.1419728628474166143 -1.9662657619126742148 -1.6340050667145293861 -0.53812366058701899263 -0.8404356757738153938 3.0498085417612372794 -0.065620736425820822002 -0.042288494840982397693;-0.18003853905354313958 0.185476907903701832 8.5888702461108294983 0.036372533896754308258 -0.037600631227783537502 0.54671905336612058868 -1.0839841747558278673 1.0015060881779878077 -1.8242386731527513444 4.7844520181351084531 0.87605241218496354705 0.081823538006670679112 -11.444930877125687019;0.73595304268212058396 0.072320319491477713658 -5.3800036529646177996 -0.33262081795932491035 2.6211386840991965919 2.547502294966892844 -2.701224468292283909 -1.7031937436416129117 0.12317904440508613273 1.1110737361800837597 2.2943385904919000318 -0.14547301775130039303 0.73300104089379181094;-0.17453814006744838849 0.19749488683088828322 9.5465645997229895414 0.20405958445795294165 -0.44783196019155396828 0.62031160307649002572 -1.2286941456009112805 1.2990734437244315647 -1.9651638649095199973 5.4255327504827794982 1.0051197426597089368 0.061316305100578172294 -11.269369762487515985;0.031002434083067312298 -0.058658480127436497809 0.41356558927052328167 0.68943245760009996825 1.6568121811475191585 -0.61106193280198750628 -0.15684470991922372374 -1.5769612105083330444 0.83377648009035199017 -0.37921409320109644714 -0.3695463798005123035 0.029785535200086799695 2.4070578327931992924;-0.19896134291145087247 0.18907385455517522477 8.1217842522408218997 -0.10955681797243446707 0.68121059474793954625 0.33309198644286974744 -1.0371354876490503916 0.56046120273467026074 -1.7175174561442292376 4.127265340853560005 0.74414231860357804571 0.10708992469433130379 -13.16009706835010995;-0.13250920476770369771 -0.014404028231279123601 -3.2594830825642389094 -0.25464763674609908195 -2.4157348249796699591 0.24804298940610453039 -1.4984226311271053866 1.9608063187714446229 -2.3512887094913819119 1.3722190334664108313 0.2308268952303751953 0.041715098069847189599 26.104544201519175317;-0.1439577030884918174 -0.074801295016744609456 -2.5733215011289964913 -0.23150189679867153036 -2.4717881425683798646 0.48473144210610435989 -1.2342089888658911434 1.8942068266144964639 -2.2643321236441855682 2.3959964480942232967 0.36368180491989071657 0.02179167116090361539 27.373097187715881518;-0.35271299628373831148 0.017825375579575558627 -0.34720670498906208712 0.86831453705059524761 0.9591161812820079291 -0.75155573107119655329 -1.0255983658436926831 -1.3920808726277762446 -0.18061450468089454424 0.80690559643937398437 1.1108839026014545315 0.16576930778810683442 -2.3862148767548063688;0.073378060114173027095 0.98033417285662927121 1.2983913074481678862 0.063444463050730690035 0.70144399905127019501 -0.068885770548093722132 -2.1543832215371803152 0.5564273143129483401 0.4798545942500062611 1.4995950259692580886 0.3721031429784746325 0.37719303410246485253 -1.0031612039384831814;0.10801239503201422176 -0.17794425116224563133 0.50085699105018943733 -0.10512720431727684556 1.2961333147217739548 -1.2085875535138834724 1.9948182537601721886 -1.0173496356630422621 0.068319273228288679434 -2.4203099521944251293 0.012063995590059137936 -0.19195040968909163337 0.88251760981268967399;0.41512193547779052683 -0.061993445479238067086 0.20113137981950368616 -0.95358699583308537129 -1.4111619768456646895 0.98235273266161537986 1.1245622537791939433 1.5760776747869842396 0.3660889784903531563 -0.88847850738692069061 -1.1946725497229830903 -0.14502688251089390636 2.5767757373638668916;0.58406706026184207481 0.053659656027744855045 -1.046357212237591261 -2.2430000302868076112 3.8223057447810893095 2.7721292555265937274 -1.1190198151254169279 -0.16110216763232987347 -0.39984109387450367246 1.7470971501035243989 -1.3727965577230036853 -0.90481579840020553984 1.4803351291650215238;0.39193951837534385385 0.60145570432760286916 -3.2914081358496680707 -0.50766622200826416744 0.36645086328214515614 -0.68905494569152692108 -0.99385716315683036992 1.7692032277578357835 0.11253396483832811548 -0.021528202315990847826 -0.0032872565271493225762 0.48205891856096316772 -0.47203765231392130763;0.15359022890024448538 0.13277420994293295808 0.21868793870233546595 -0.15601069081973129027 2.4704016032126636659 -0.85654369823714626708 0.140193899696557156 -2.0362503077411195918 0.34630753419369603163 -4.8162261725927404399 -0.782334416815605449 0.044062645432110934818 -8.9887663735018730193;-0.096403052884780932041 -0.45645990403402497693 0.24118945919327211547 0.011519412450649062912 0.044541327556025855916 0.53265900646280428532 0.076297807232069400629 -0.11901362262525051749 -0.17788830761173837769 -0.40737729251796528374 0.14121054397675139591 0.23184451388143695327 0.24613190376547597338;-0.84543915898242683049 2.1141445489189165663 -0.43692986326187854829 -0.60383978879326982714 1.2522961999448196657 0.38421747652416365915 -0.69035055342445217352 -0.41330845775351832128 -1.6117190909961995882 0.65103089046851725374 -0.75826267979944772524 0.28006491360276680735 0.2995356021969930449;-0.37038120770597438014 -0.68352369738806717514 1.5811299617197112077 0.31919569743327574907 -0.031182556361053978544 0.66223353161093778674 0.46998735352975118396 -0.21454008117425152347 -1.8235613697698533908 -0.32224194514405241074 0.62349939920047747766 0.22632180618602690259 1.4837470940542580866;-0.13988130473152751709 -0.037136913202916739529 -2.7424210852697061824 -0.23137675916733030368 -2.3449973825774477199 0.35098785471517651713 -1.318502527437656946 1.8730246581411664764 -2.248821380792895841 1.8003994119510453586 0.28027804720710919328 0.033902997020102999814 26.171700981171895251;0.27453280190213907863 -0.16798942788242510193 -2.1863170857917162415 2.1938739077839568559 -10.292085512475095399 1.9672250297635300864 -2.1013185622904044791 10.236779826714174746 -3.3412689001685520473 17.358292292930212142 2.3614943494008953095 -0.45354728080433914794 31.970238796506773582;0.34393885283185660073 -0.0017973969834471185958 -0.24755069006886371019 -1.4920312798604857818 -0.6388732279585658258 0.93989301519606749391 2.3282222982284821455 0.29073098522038148817 0.74353790049370183102 -3.664192969160626312 0.098804325163751621774 0.065481692374952715774 0.11209796750646035257];

% Layer 2
b2 = 0.467987430277798655;
LW2_1 = [0.053206507089537363742 0.03577588434145746038 2.1799844163161177235 0.83852397762147812266 0.81115678401597257619 -0.056782452610207624633 1.0501970486139071692 0.12225902744150457524 1.8829436699126478327 -0.06901395427469468602 -0.057768662818170411766 -0.30550694678815254468 1.5721991252382780946 -0.65987193534622523572 1.8707771768782304189 0.02754248119877897652 -1.1616486445316493992 1.4755987601065259085 0.065840919586785562334 0.70453868921092321909 7.0325910947194669731 1.1981587474095118928 -4.4584309187702171329 -1.6084707271444493859 -2.444330091018530382 -6.5194350535612324293 -6.3339548051054581634 -1.3555145768388252581 -0.12622903729508988535 -0.36015167608121539944 -1.1489530033191936997 -0.30272987390707173372 -0.071241298135303526839 2.6322089497239575806 0.51331979173534336702 0.037130829509694887602 -0.19035070357319716639 12.946459286197452343 0.739659367290647074 0.2922858021345055568];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 2;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);

    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);

    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;

    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
